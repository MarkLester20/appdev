<div class="usershop-body">
    <div class="container">
        <div class="sidebar">
            <div class="logo">
                 <img src="profilelogo.png" alt="Profile Logo" class="profilelogo">
            </div>
            <h2 class="studentname">{{ userFullName }}</h2>
            <div class="nav">
                <ul>
                    <li><a routerLink="/userdashboard">
                        <span class="navitem"><img src="dashboardlogo.png"></span>
                        <span>Dashboard</span>
                        </a>
                    </li>
                    <li><a routerLink="/usershop">
                        <span class="navitem"><img src="shoplogo.png"></span>
                        <span>Shop</span>
                        </a>
                    </li>
                    <li><a routerLink="/usercart">
                        <span class="navitem"><img src="cartlogo.png"></span>
                        <span>Cart</span>
                        </a>
                    </li>
                    <li><a routerLink="/userpurchase">
                        <span class="navitem"><img src="purchaselogo.png"></span>
                        <span>My Purchase</span>
                        </a>
                    </li>
                </ul>
                
              </div>       
              <hr class="line">    
              <div class="logout" name="log-out" id="log-out" >
                <img src="logoutlogo.png" (click)="openLogoutModal()">
             </div>

        <div id="logoutModal" class="modal">
            <div class="modal-container" id="logoutModalContainer">
                <p>Are you sure you want to log out?</p>
                <div class="modal-buttons">
                    <button (click)="logout()" class="confirm-button">Confirm</button>
                    <button (click)="closeLogoutModal()" class="cancel-button">Cancel</button>                
                </div>    
            </div>    
        </div>      
        </div>

        <div class="content">
            <h2 class="welcome-message">Shop</h2>
            
            <hr class="dashboard-line">
            
            <!-- Categories Section -->
            <div class="categories-section">
                <h3>CATEGORIES</h3>
                
                <!-- Loading State -->
                <div *ngIf="loading" class="loading-container">
                    <p>Loading categories...</p>
                </div>

                <!-- Categories Grid -->
                <div *ngIf="!loading" class="category-container">
                    <div class="category-item" (click)="viewCategoryProducts('Women')">
                        <img src="women.png" alt="Women's Uniforms" class="category-pic">
                        <div class="category-info">
                            <h4>Women</h4>
                            <p *ngIf="getCategoryByName('Women')">
                                {{ getCategoryByName('Women')?.item_count }} items
                            </p>
                        </div>
                    </div>
                    <div class="category-item" (click)="viewCategoryProducts('Men')">
                        <img src="men.png" alt="Men's Uniforms" class="category-pic">
                        <div class="category-info">
                            <h4>Men</h4>
                            <p *ngIf="getCategoryByName('Men')">
                                {{ getCategoryByName('Men')?.item_count }} items
                            </p>
                        </div>
                    </div>
                    <div class="category-item" (click)="viewCategoryProducts('PE')">
                        <img src="pe.png" alt="PE Uniforms" class="category-pic">
                        <div class="category-info">
                            <h4>PE</h4>
                            <p *ngIf="getCategoryByName('PE')">
                                {{ getCategoryByName('PE')?.item_count }} items
                            </p>
                        </div>
                    </div>
                    <div class="category-item" (click)="viewCategoryProducts('NSTP')">
                        <img src="nstp.png" alt="NSTP Uniforms" class="category-pic">
                        <div class="category-info">
                            <h4>NSTP</h4>
                            <p *ngIf="getCategoryByName('NSTP')">
                                {{ getCategoryByName('NSTP')?.item_count }} items
                            </p>
                        </div>
                    </div>
                </div>

                <!-- Empty State -->
                <div *ngIf="!loading && categoryStats.length === 0" class="empty-state">
                    <p>No categories available at the moment.</p>
                </div>
            </div>
        </div>
    </div>
</div>